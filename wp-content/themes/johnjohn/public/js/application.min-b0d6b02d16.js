_now=Date.now||function(){return(new Date).getTime()},_throttle=function(e,n,t){var a,i,o,l=null,r=0;t||(t={});var d=function(){r=t.leading===!1?0:_now(),l=null,o=e.apply(a,i),l||(a=i=null)};return function(){var s=_now();r||t.leading!==!1||(r=s);var c=n-(s-r);return a=this,i=arguments,0>=c||c>n?(l&&(clearTimeout(l),l=null),r=s,o=e.apply(a,i),l||(a=i=null)):l||t.trailing===!1||(l=setTimeout(d,c)),o}},function(e){"use strict";var n={init:function(){n.Mobiledetect(),n.Smoothscroll(),n.Throttle(),n.Preloader(),n.Slider(),n.Heroeffect()},Mobiledetect:function(){var n=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);e("body").addClass(1==n?"mobile":"no-touch")},Smoothscroll:function(){e("a[href*=#]:not([href=#])").on("click","",function(n){if(n.preventDefault(),location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")||location.hostname==this.hostname){var t=e(this.hash);if(t=t.length?t:e("[name="+this.hash.slice(1)+"]"),t.length)return e("html,body").animate({scrollTop:t.offset().top},{duration:600,easing:"easeOutCubic"}),!1}})},Throttle:function(){var n=50;e(window).on("scroll",_throttle(function(){},n)),e(window).on("resize",_throttle(function(){},n))},Preloader:function(){e(window).load(function(){e("#preloader .spinner").delay(100).fadeOut(300,function(){e(".body").animate({opacity:1},300),e(this).parent().delay(300).fadeOut(500,function(){n.Animated()})})})},Slider:function(){e(document).ready(function(){e("#vid-gallery").flexslider({animation:"slide",slideshow:!1,slideshowSpeed:4e3,animationSpeed:600,pauseOnHover:!0,controlNav:!0,directionNav:!1})})},Lightbox:function(){e(".imagepop").magnificPopup({type:"image"})},Heroeffect:function(){var n=e("#hero-play"),t=e("body"),a=e("#herovid");n.on("click",function(e){e.preventDefault(),t.hasClass("vid-reveal")?t.removeClass("vid-reveal").addClass("vid-revealed"):(t.addClass("vid-reveal"),a.trigger("click"),t.hasClass("vid-revealed")&&t.removeClass("vid-revealed"))})},Animated:function(){e(".animation, .animation-visible").each(function(){var n=e(this);n.waypoint(function(){var e=0;n.attr("data-delay")&&(e=parseInt(n.attr("data-delay"),0)),n.hasClass("animated")||setTimeout(function(){n.addClass("animated "+n.attr("data-animation"))},e),e=0},{offset:"70%"})})},ShowAnimated:function(){e(".animation, .animation-visible").each(function(){e(this).addClass("animated")})}};e(function(){n.init()})}(window.jQuery);